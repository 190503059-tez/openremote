{
  "rules": [
    {
      "name": "Test Rule",
      "when": {
        "items": [
          {
            "assets": {
              "types": [
                {
                  "predicateType": "string",
                  "match": "EXACT",
                  "value": "urn:openremote:asset:console"
                }
              ],
              "attributes": {
                "items": [
                  {
                    "name": {
                      "predicateType": "string",
                      "match": "EXACT",
                      "value": "location"
                    },
                    "value": {
                      "predicateType": "radial",
                      "radius": 50,
                      "lat": 51.438000,
                      "lng": 5.470945,
                      "negated": true
                    }
                  }
                ]
              }
            }
          }
        ]
      },
      "then": [
        {
          "action": "notification",
          "target": {
            "ruleTriggerTag": "0"
          },
          "notification": {
            "name": "test",
            "message": {
              "type": "push",
              "title": "Test title"
            }
          }
        },
        {
          "action": "write-attribute",
          "target": {
            "assets": {
              "parents": [
                {
                  "type": "urn:openremote:asset:residence",
                  "name": "Apartment 2"
                }
              ],
              "types": [
                {
                  "predicateType": "string",
                  "match": "EXACT",
                  "value": "urn:openremote:asset:room"
                }
              ]
            }
          },
          "attributeName": "lightSwitch",
          "value": false
        },
        {
          "action": "update-attribute",
          "target": {
            "assets": {
              "parents": [
                {
                  "type": "urn:openremote:asset:residence",
                  "name": "Apartment 2"
                }
              ],
              "types": [
                {
                  "predicateType": "string",
                  "match": "EXACT",
                  "value": "urn:openremote:asset:room"
                }
              ]
            }
          },
          "attributeName": "lightSwitchTriggerTimes",
          "value": "2100",
          "updateAction": "ADD"
        },
        {
          "action": "update-attribute",
          "target": {
            "assets": {
              "parents": [
                {
                  "type": "urn:openremote:asset:residence",
                  "name": "Apartment 2"
                }
              ],
              "types": [
                {
                  "predicateType": "string",
                  "match": "EXACT",
                  "value": "urn:openremote:asset:room"
                }
              ]
            }
          },
          "attributeName": "plantsWaterLevels",
          "key": "cactus",
          "value": 0.7,
          "updateAction": "REPLACE"
        }
      ],
      "reset": {
        "noLongerMatches": true,
        "valueChanges": true,
        "timestampChanges": true
      }
    }
  ]
}